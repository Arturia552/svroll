<!doctype html>
<html lang="en" class="dark">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="/vite.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Tauri + Vue + Typescript App</title>
        <style>
            /* Loading Screen Styles */
            #loading-screen {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: radial-gradient(
                    ellipse at center,
                    #1a1a1a 0%,
                    #0a0a0a 70%,
                    #000000 100%
                );
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 9999;
                transition: opacity 0.8s ease-in-out;
            }

            #loading-screen.fade-out {
                opacity: 0;
                pointer-events: none;
            }

            /* Pulsing Dots Animation */
            .dots-container {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 20px;
            }

            .dot {
                width: 16px;
                height: 16px;
                border-radius: 50%;
                background: linear-gradient(135deg, #666666, #999999);
                animation: pulse-dot 1.5s ease-in-out infinite;
                box-shadow: 0 0 20px rgba(153, 153, 153, 0.4);
            }

            .dot:nth-child(1) {
                animation-delay: 0s;
            }

            .dot:nth-child(2) {
                animation-delay: 0.5s;
            }

            .dot:nth-child(3) {
                animation-delay: 1s;
            }

            @keyframes pulse-dot {
                0%,
                100% {
                    transform: scale(1);
                    opacity: 0.7;
                    box-shadow: 0 0 20px rgba(153, 153, 153, 0.4);
                }
                50% {
                    transform: scale(1.8);
                    opacity: 1;
                    box-shadow: 0 0 30px rgba(153, 153, 153, 0.8);
                }
            }
        </style>
    </head>

    <body>
        <!-- Loading Screen -->
        <div id="loading-screen">
            <div class="dots-container">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
        </div>

        <div id="app"></div>
        <script type="module" src="/src/main.ts"></script>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const loadingScreen = document.getElementById("loading-screen");

                // Simulate loading time
                setTimeout(() => {
                    loadingScreen.classList.add("fade-out");
                    setTimeout(() => {
                        loadingScreen.style.display = "none";
                    }, 800);
                }, 2500);

                // Also hide loading screen when Vue app is mounted (backup)
                const checkAppMounted = () => {
                    const app = document.getElementById("app");
                    if (app && app.children.length > 0) {
                        setTimeout(() => {
                            if (
                                loadingScreen &&
                                !loadingScreen.classList.contains("fade-out")
                            ) {
                                loadingScreen.classList.add("fade-out");
                                setTimeout(() => {
                                    loadingScreen.style.display = "none";
                                }, 800);
                            }
                        }, 1500);
                    } else {
                        setTimeout(checkAppMounted, 100);
                    }
                };

                setTimeout(checkAppMounted, 1000);
            });
        </script>
    </body>
</html>
